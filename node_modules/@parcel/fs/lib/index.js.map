{"mappings":"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","sources":["packages/core/fs/src/index.js","packages/core/fs/src/NodeFS.js","node_modules/graceful-fs/graceful-fs.js","node_modules/graceful-fs/polyfills.js","node_modules/graceful-fs/legacy-streams.js","node_modules/graceful-fs/clone.js","node_modules/ncp/lib/ncp.js","packages/core/fs/package.json","packages/core/fs/src/find.js","packages/core/fs/src/MemoryFS.js","node_modules/nullthrows/nullthrows.js","packages/core/fs/src/OverlayFS.js"],"sourcesContent":["// @flow strict-local\nimport type {FileSystem} from './types';\nimport type {FilePath} from '@parcel/types';\nimport type {Readable, Writable} from 'stream';\n\nimport path from 'path';\nimport stream from 'stream';\nimport {promisify} from 'util';\n\nexport type * from './types';\nexport * from './NodeFS';\nexport * from './MemoryFS';\nexport * from './OverlayFS';\n\nconst pipeline: (Readable, Writable) => Promise<void> = promisify(\n  stream.pipeline,\n);\n\n// Recursively copies a directory from the sourceFS to the destinationFS\nexport async function ncp(\n  sourceFS: FileSystem,\n  source: FilePath,\n  destinationFS: FileSystem,\n  destination: FilePath,\n) {\n  await destinationFS.mkdirp(destination);\n  let files = await sourceFS.readdir(source);\n  for (let file of files) {\n    let sourcePath = path.join(source, file);\n    let destPath = path.join(destination, file);\n    let stats = await sourceFS.stat(sourcePath);\n    if (stats.isFile()) {\n      await pipeline(\n        sourceFS.createReadStream(sourcePath),\n        destinationFS.createWriteStream(destPath),\n      );\n    } else if (stats.isDirectory()) {\n      await ncp(sourceFS, sourcePath, destinationFS, destPath);\n    }\n  }\n}\n","// @flow\nimport type {ReadStream, Stats} from 'fs';\nimport type {Writable} from 'stream';\nimport type {FileOptions, FileSystem, Encoding} from './types';\nimport type {FilePath} from '@parcel/types';\nimport type {\n  Event,\n  Options as WatcherOptions,\n  AsyncSubscription,\n} from '@parcel/watcher';\n\nimport fs from 'graceful-fs';\nimport nativeFS from 'fs';\nimport ncp from 'ncp';\nimport {promisify} from 'util';\nimport {registerSerializableClass} from '@parcel/core';\nimport {hashStream} from '@parcel/utils';\nimport watcher from '@parcel/watcher';\nimport packageJSON from '../package.json';\n\nimport * as searchNative from '@parcel/fs-search';\nimport * as searchJS from './find';\n\n// Most of this can go away once we only support Node 10+, which includes\n// require('fs').promises\n\nconst realpath = promisify(\n  process.platform === 'win32' ? fs.realpath : fs.realpath.native,\n);\nconst isPnP = process.versions.pnp != null;\n\nexport class NodeFS implements FileSystem {\n  readFile: any = promisify(fs.readFile);\n  copyFile: any = promisify(fs.copyFile);\n  stat: any = promisify(fs.stat);\n  readdir: any = promisify(fs.readdir);\n  unlink: any = promisify(fs.unlink);\n  utimes: any = promisify(fs.utimes);\n  ncp: any = promisify(ncp);\n  createReadStream: (path: string, options?: any) => ReadStream =\n    fs.createReadStream;\n  cwd: () => string = () => process.cwd();\n  chdir: (directory: string) => void = directory => process.chdir(directory);\n\n  statSync: (path: string) => Stats = path => fs.statSync(path);\n  realpathSync: (path: string, cache?: any) => string =\n    process.platform === 'win32' ? fs.realpathSync : fs.realpathSync.native;\n  existsSync: (path: string) => boolean = fs.existsSync;\n  readdirSync: any = (fs.readdirSync: any);\n  findAncestorFile: any = isPnP\n    ? (...args) => searchJS.findAncestorFile(this, ...args)\n    : searchNative.findAncestorFile;\n  findNodeModule: any = isPnP\n    ? (...args) => searchJS.findNodeModule(this, ...args)\n    : searchNative.findNodeModule;\n  findFirstFile: any = isPnP\n    ? (...args) => searchJS.findFirstFile(this, ...args)\n    : searchNative.findFirstFile;\n\n  createWriteStream(filePath: string, options: any): Writable {\n    // Make createWriteStream atomic\n    let tmpFilePath = getTempFilePath(filePath);\n    let failed = false;\n\n    const move = async () => {\n      if (!failed) {\n        try {\n          await fs.promises.rename(tmpFilePath, filePath);\n        } catch (e) {\n          // This is adapted from fs-write-stream-atomic. Apparently\n          // Windows doesn't like renaming when the target already exists.\n          if (\n            process.platform === 'win32' &&\n            e.syscall &&\n            e.syscall === 'rename' &&\n            e.code &&\n            e.code === 'EPERM'\n          ) {\n            let [hashTmp, hashTarget] = await Promise.all([\n              hashStream(writeStream.__atomicTmp),\n              hashStream(writeStream.__atomicTarget),\n            ]);\n\n            await this.unlink(writeStream.__atomicTmp);\n\n            if (hashTmp != hashTarget) {\n              throw e;\n            }\n          }\n        }\n      }\n    };\n\n    let writeStream = fs.createWriteStream(tmpFilePath, {\n      ...options,\n      fs: {\n        ...fs,\n        close: (fd, cb) => {\n          fs.close(fd, err => {\n            if (err) {\n              cb(err);\n            } else {\n              move().then(\n                () => cb(),\n                err => cb(err),\n              );\n            }\n          });\n        },\n      },\n    });\n\n    writeStream.once('error', () => {\n      failed = true;\n      fs.unlinkSync(tmpFilePath);\n    });\n\n    return writeStream;\n  }\n\n  async writeFile(\n    filePath: FilePath,\n    contents: Buffer | string,\n    options: ?FileOptions,\n  ): Promise<void> {\n    let tmpFilePath = getTempFilePath(filePath);\n    await fs.promises.writeFile(tmpFilePath, contents, options);\n    await fs.promises.rename(tmpFilePath, filePath);\n  }\n\n  readFileSync(filePath: FilePath, encoding?: Encoding): any {\n    if (encoding != null) {\n      return fs.readFileSync(filePath, encoding);\n    }\n    return fs.readFileSync(filePath);\n  }\n\n  async realpath(originalPath: string): Promise<string> {\n    try {\n      return await realpath(originalPath, 'utf8');\n    } catch (e) {\n      // do nothing\n    }\n\n    return originalPath;\n  }\n\n  exists(filePath: FilePath): Promise<boolean> {\n    return new Promise(resolve => {\n      fs.exists(filePath, resolve);\n    });\n  }\n\n  watch(\n    dir: FilePath,\n    fn: (err: ?Error, events: Array<Event>) => mixed,\n    opts: WatcherOptions,\n  ): Promise<AsyncSubscription> {\n    return watcher.subscribe(dir, fn, opts);\n  }\n\n  getEventsSince(\n    dir: FilePath,\n    snapshot: FilePath,\n    opts: WatcherOptions,\n  ): Promise<Array<Event>> {\n    return watcher.getEventsSince(dir, snapshot, opts);\n  }\n\n  async writeSnapshot(\n    dir: FilePath,\n    snapshot: FilePath,\n    opts: WatcherOptions,\n  ): Promise<void> {\n    await watcher.writeSnapshot(dir, snapshot, opts);\n  }\n\n  static deserialize(): NodeFS {\n    return new NodeFS();\n  }\n\n  serialize(): null {\n    return null;\n  }\n\n  async mkdirp(filePath: FilePath): Promise<void> {\n    await nativeFS.promises.mkdir(filePath, {recursive: true});\n  }\n\n  async rimraf(filePath: FilePath): Promise<void> {\n    if (fs.promises.rm) {\n      await fs.promises.rm(filePath, {recursive: true, force: true});\n      return;\n    }\n\n    // fs.promises.rm is not supported in node 12...\n    let stat;\n    try {\n      stat = await this.stat(filePath);\n    } catch (err) {\n      return;\n    }\n\n    if (stat.isDirectory()) {\n      // $FlowFixMe\n      await nativeFS.promises.rmdir(filePath, {recursive: true});\n    } else {\n      await nativeFS.promises.unlink(filePath);\n    }\n  }\n}\n\nregisterSerializableClass(`${packageJSON.version}:NodeFS`, NodeFS);\n\nlet writeStreamCalls = 0;\n\nlet threadId;\ntry {\n  ({threadId} = require('worker_threads'));\n} catch {\n  //\n}\n\n// Generate a temporary file path used for atomic writing of files.\nfunction getTempFilePath(filePath: FilePath) {\n  writeStreamCalls = writeStreamCalls % Number.MAX_SAFE_INTEGER;\n  return (\n    filePath +\n    '.' +\n    process.pid +\n    (threadId != null ? '.' + threadId : '') +\n    '.' +\n    (writeStreamCalls++).toString(36)\n  );\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = fs[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\nvar chdir = process.chdir\nprocess.chdir = function(d) {\n  cwd = null\n  chdir.call(process, d)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    read.__proto__ = fs$read\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","'use strict'\n\nmodule.exports = clone\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: obj.__proto__ }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs'),\n    path = require('path');\n\nmodule.exports = ncp;\nncp.ncp = ncp;\n\nfunction ncp (source, dest, options, callback) {\n  var cback = callback;\n\n  if (!callback) {\n    cback = options;\n    options = {};\n  }\n\n  var basePath = process.cwd(),\n      currentPath = path.resolve(basePath, source),\n      targetPath = path.resolve(basePath, dest),\n      filter = options.filter,\n      rename = options.rename,\n      transform = options.transform,\n      clobber = options.clobber !== false,\n      modified = options.modified,\n      dereference = options.dereference,\n      errs = null,\n      started = 0,\n      finished = 0,\n      running = 0,\n      limit = options.limit || ncp.limit || 16;\n\n  limit = (limit < 1) ? 1 : (limit > 512) ? 512 : limit;\n\n  startCopy(currentPath);\n  \n  function startCopy(source) {\n    started++;\n    if (filter) {\n      if (filter instanceof RegExp) {\n        if (!filter.test(source)) {\n          return cb(true);\n        }\n      }\n      else if (typeof filter === 'function') {\n        if (!filter(source)) {\n          return cb(true);\n        }\n      }\n    }\n    return getStats(source);\n  }\n\n  function getStats(source) {\n    var stat = dereference ? fs.stat : fs.lstat;\n    if (running >= limit) {\n      return setImmediate(function () {\n        getStats(source);\n      });\n    }\n    running++;\n    stat(source, function (err, stats) {\n      var item = {};\n      if (err) {\n        return onError(err);\n      }\n\n      // We need to get the mode from the stats object and preserve it.\n      item.name = source;\n      item.mode = stats.mode;\n      item.mtime = stats.mtime; //modified time\n      item.atime = stats.atime; //access time\n\n      if (stats.isDirectory()) {\n        return onDir(item);\n      }\n      else if (stats.isFile()) {\n        return onFile(item);\n      }\n      else if (stats.isSymbolicLink()) {\n        // Symlinks don't really need to know about the mode.\n        return onLink(source);\n      }\n    });\n  }\n\n  function onFile(file) {\n    var target = file.name.replace(currentPath, targetPath);\n    if(rename) {\n      target =  rename(target);\n    }\n    isWritable(target, function (writable) {\n      if (writable) {\n        return copyFile(file, target);\n      }\n      if(clobber) {\n        rmFile(target, function () {\n          copyFile(file, target);\n        });\n      }\n      if (modified) {\n        var stat = dereference ? fs.stat : fs.lstat;\n        stat(target, function(err, stats) {\n            //if souce modified time greater to target modified time copy file\n            if (file.mtime.getTime()>stats.mtime.getTime())\n                copyFile(file, target);\n            else return cb();\n        });\n      }\n      else {\n        return cb();\n      }\n    });\n  }\n\n  function copyFile(file, target) {\n    var readStream = fs.createReadStream(file.name),\n        writeStream = fs.createWriteStream(target, { mode: file.mode });\n    \n    readStream.on('error', onError);\n    writeStream.on('error', onError);\n    \n    if(transform) {\n      transform(readStream, writeStream, file);\n    } else {\n      writeStream.on('open', function() {\n        readStream.pipe(writeStream);\n      });\n    }\n    writeStream.once('finish', function() {\n        if (modified) {\n            //target file modified date sync.\n            fs.utimesSync(target, file.atime, file.mtime);\n            cb();\n        }\n        else cb();\n    });\n  }\n\n  function rmFile(file, done) {\n    fs.unlink(file, function (err) {\n      if (err) {\n        return onError(err);\n      }\n      return done();\n    });\n  }\n\n  function onDir(dir) {\n    var target = dir.name.replace(currentPath, targetPath);\n    isWritable(target, function (writable) {\n      if (writable) {\n        return mkDir(dir, target);\n      }\n      copyDir(dir.name);\n    });\n  }\n\n  function mkDir(dir, target) {\n    fs.mkdir(target, dir.mode, function (err) {\n      if (err) {\n        return onError(err);\n      }\n      copyDir(dir.name);\n    });\n  }\n\n  function copyDir(dir) {\n    fs.readdir(dir, function (err, items) {\n      if (err) {\n        return onError(err);\n      }\n      items.forEach(function (item) {\n        startCopy(path.join(dir, item));\n      });\n      return cb();\n    });\n  }\n\n  function onLink(link) {\n    var target = link.replace(currentPath, targetPath);\n    fs.readlink(link, function (err, resolvedPath) {\n      if (err) {\n        return onError(err);\n      }\n      checkLink(resolvedPath, target);\n    });\n  }\n\n  function checkLink(resolvedPath, target) {\n    if (dereference) {\n      resolvedPath = path.resolve(basePath, resolvedPath);\n    }\n    isWritable(target, function (writable) {\n      if (writable) {\n        return makeLink(resolvedPath, target);\n      }\n      fs.readlink(target, function (err, targetDest) {\n        if (err) {\n          return onError(err);\n        }\n        if (dereference) {\n          targetDest = path.resolve(basePath, targetDest);\n        }\n        if (targetDest === resolvedPath) {\n          return cb();\n        }\n        return rmFile(target, function () {\n          makeLink(resolvedPath, target);\n        });\n      });\n    });\n  }\n\n  function makeLink(linkPath, target) {\n    fs.symlink(linkPath, target, function (err) {\n      if (err) {\n        return onError(err);\n      }\n      return cb();\n    });\n  }\n\n  function isWritable(path, done) {\n    fs.lstat(path, function (err) {\n      if (err) {\n        if (err.code === 'ENOENT') return done(true);\n        return done(false);\n      }\n      return done(false);\n    });\n  }\n\n  function onError(err) {\n    if (options.stopOnError) {\n      return cback(err);\n    }\n    else if (!errs && options.errs) {\n      errs = fs.createWriteStream(options.errs);\n    }\n    else if (!errs) {\n      errs = [];\n    }\n    if (typeof errs.write === 'undefined') {\n      errs.push(err);\n    }\n    else { \n      errs.write(err.stack + '\\n\\n');\n    }\n    return cb();\n  }\n\n  function cb(skipped) {\n    if (!skipped) running--;\n    finished++;\n    if ((started === finished) && (running === 0)) {\n      if (cback !== undefined ) {\n        return errs ? cback(errs) : cback(null);\n      }\n    }\n  }\n}\n\n\n","{\n  \"name\": \"@parcel/fs\",\n  \"version\": \"2.6.2\",\n  \"description\": \"Blazing fast, zero configuration web application bundler\",\n  \"license\": \"MIT\",\n  \"publishConfig\": {\n    \"access\": \"public\"\n  },\n  \"funding\": {\n    \"type\": \"opencollective\",\n    \"url\": \"https://opencollective.com/parcel\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/parcel-bundler/parcel.git\"\n  },\n  \"main\": \"lib/index.js\",\n  \"source\": \"src/index.js\",\n  \"types\": \"index.d.ts\",\n  \"engines\": {\n    \"node\": \">= 12.0.0\"\n  },\n  \"targets\": {\n    \"types\": false,\n    \"main\": {\n      \"includeNodeModules\": {\n        \"@parcel/core\": false,\n        \"@parcel/fs-search\": false,\n        \"@parcel/types\": false,\n        \"@parcel/utils\": false,\n        \"@parcel/watcher\": false,\n        \"@parcel/workers\": false\n      }\n    },\n    \"browser\": {\n      \"includeNodeModules\": {\n        \"@parcel/core\": false,\n        \"@parcel/fs-search\": false,\n        \"@parcel/types\": false,\n        \"@parcel/utils\": false,\n        \"@parcel/watcher\": false,\n        \"@parcel/workers\": false\n      }\n    }\n  },\n  \"scripts\": {\n    \"build-ts\": \"mkdir -p lib && flow-to-ts src/types.js > lib/types.d.ts\",\n    \"check-ts\": \"tsc --noEmit index.d.ts\"\n  },\n  \"dependencies\": {\n    \"@parcel/fs-search\": \"2.6.2\",\n    \"@parcel/types\": \"2.6.2\",\n    \"@parcel/utils\": \"2.6.2\",\n    \"@parcel/watcher\": \"^2.0.0\",\n    \"@parcel/workers\": \"2.6.2\"\n  },\n  \"devDependencies\": {\n    \"graceful-fs\": \"^4.2.4\",\n    \"ncp\": \"^2.0.0\",\n    \"nullthrows\": \"^1.1.1\",\n    \"utility-types\": \"^3.10.0\"\n  },\n  \"peerDependencies\": {\n    \"@parcel/core\": \"^2.6.2\"\n  },\n  \"browser\": {\n    \"@parcel/fs\": \"./lib/browser.js\",\n    \"./src/NodeFS.js\": \"./src/NodeFS.browser.js\"\n  },\n  \"gitHead\": \"e10fcfc1e8b71222da90978fb87f1b68e207473e\"\n}\n","// @flow\nimport type {FilePath} from '@parcel/types';\nimport type {FileSystem} from './types';\nimport path from 'path';\n\nexport function findNodeModule(\n  fs: FileSystem,\n  moduleName: string,\n  dir: FilePath,\n): ?FilePath {\n  let {root} = path.parse(dir);\n  while (dir !== root) {\n    // Skip node_modules directories\n    if (path.basename(dir) === 'node_modules') {\n      dir = path.dirname(dir);\n    }\n\n    try {\n      let moduleDir = path.join(dir, 'node_modules', moduleName);\n      let stats = fs.statSync(moduleDir);\n      if (stats.isDirectory()) {\n        return moduleDir;\n      }\n    } catch (err) {\n      // ignore\n    }\n\n    // Move up a directory\n    dir = path.dirname(dir);\n  }\n\n  return null;\n}\n\nexport function findAncestorFile(\n  fs: FileSystem,\n  fileNames: Array<string>,\n  dir: FilePath,\n  root: FilePath,\n): ?FilePath {\n  let {root: pathRoot} = path.parse(dir);\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    if (path.basename(dir) === 'node_modules') {\n      return null;\n    }\n\n    for (const fileName of fileNames) {\n      let filePath = path.join(dir, fileName);\n      try {\n        if (fs.statSync(filePath).isFile()) {\n          return filePath;\n        }\n      } catch (err) {\n        // ignore\n      }\n    }\n\n    if (dir === root || dir === pathRoot) {\n      break;\n    }\n\n    dir = path.dirname(dir);\n  }\n\n  return null;\n}\n\nexport function findFirstFile(\n  fs: FileSystem,\n  filePaths: Array<FilePath>,\n): ?FilePath {\n  for (let filePath of filePaths) {\n    try {\n      if (fs.statSync(filePath).isFile()) {\n        return filePath;\n      }\n    } catch (err) {\n      // ignore\n    }\n  }\n}\n","// @flow\n\nimport type {FileSystem, FileOptions, ReaddirOptions, Encoding} from './types';\nimport type {FilePath} from '@parcel/types';\nimport type {\n  Event,\n  Options as WatcherOptions,\n  AsyncSubscription,\n} from '@parcel/watcher';\n\nimport path from 'path';\nimport {Readable, Writable} from 'stream';\nimport {registerSerializableClass} from '@parcel/core';\nimport {SharedBuffer} from '@parcel/utils';\nimport packageJSON from '../package.json';\nimport WorkerFarm, {Handle} from '@parcel/workers';\nimport nullthrows from 'nullthrows';\nimport EventEmitter from 'events';\nimport {findAncestorFile, findNodeModule, findFirstFile} from './find';\n\nconst instances: Map<number, MemoryFS> = new Map();\nlet id = 0;\n\ntype HandleFunction = (...args: Array<any>) => any;\ntype SerializedMemoryFS = {\n  id: number,\n  handle: any,\n  dirs: Map<FilePath, Directory>,\n  files: Map<FilePath, File>,\n  symlinks: Map<FilePath, FilePath>,\n  ...\n};\n\ntype WorkerEvent = {|\n  type: 'writeFile' | 'unlink' | 'mkdir' | 'symlink',\n  path: FilePath,\n  entry?: Entry,\n  target?: FilePath,\n|};\n\ntype ResolveFunction = () => mixed;\n\nexport class MemoryFS implements FileSystem {\n  dirs: Map<FilePath, Directory>;\n  files: Map<FilePath, File>;\n  symlinks: Map<FilePath, FilePath>;\n  watchers: Map<FilePath, Set<Watcher>>;\n  events: Array<Event>;\n  id: number;\n  handle: Handle;\n  farm: WorkerFarm;\n  _cwd: FilePath;\n  _eventQueue: Array<Event>;\n  _watcherTimer: TimeoutID;\n  _numWorkerInstances: number = 0;\n  _workerHandles: Array<Handle>;\n  _workerRegisterResolves: Array<ResolveFunction> = [];\n  _emitter: EventEmitter = new EventEmitter();\n\n  constructor(workerFarm: WorkerFarm) {\n    this.farm = workerFarm;\n    this.dirs = new Map([['/', new Directory()]]);\n    this.files = new Map();\n    this.symlinks = new Map();\n    this.watchers = new Map();\n    this.events = [];\n    this.id = id++;\n    this._cwd = '/';\n    this._workerHandles = [];\n    this._eventQueue = [];\n    instances.set(this.id, this);\n    this._emitter.on('allWorkersRegistered', () => {\n      for (let resolve of this._workerRegisterResolves) {\n        resolve();\n      }\n      this._workerRegisterResolves = [];\n    });\n  }\n\n  static deserialize(opts: SerializedMemoryFS): MemoryFS | WorkerFS {\n    let existing = instances.get(opts.id);\n    if (existing != null) {\n      // Correct the count of worker instances since serialization assumes a new instance is created\n      WorkerFarm.getWorkerApi().runHandle(opts.handle, [\n        'decrementWorkerInstance',\n        [],\n      ]);\n      return existing;\n    }\n\n    let fs = new WorkerFS(opts.id, nullthrows(opts.handle));\n    fs.dirs = opts.dirs;\n    fs.files = opts.files;\n    fs.symlinks = opts.symlinks;\n    return fs;\n  }\n\n  serialize(): SerializedMemoryFS {\n    if (!this.handle) {\n      this.handle = this.farm.createReverseHandle(\n        (fn: string, args: Array<mixed>) => {\n          // $FlowFixMe\n          return this[fn](...args);\n        },\n      );\n    }\n\n    // If a worker instance already exists, it will decrement this number\n    this._numWorkerInstances++;\n\n    return {\n      $$raw: false,\n      id: this.id,\n      handle: this.handle,\n      dirs: this.dirs,\n      files: this.files,\n      symlinks: this.symlinks,\n    };\n  }\n\n  decrementWorkerInstance() {\n    this._numWorkerInstances--;\n    if (this._numWorkerInstances === this._workerHandles.length) {\n      this._emitter.emit('allWorkersRegistered');\n    }\n  }\n\n  cwd(): FilePath {\n    return this._cwd;\n  }\n\n  chdir(dir: FilePath) {\n    this._cwd = dir;\n  }\n\n  _normalizePath(filePath: FilePath, realpath: boolean = true): FilePath {\n    filePath = path.resolve(this.cwd(), filePath);\n\n    // get realpath by following symlinks\n    if (realpath) {\n      let {root, dir, base} = path.parse(filePath);\n      let parts = dir.slice(root.length).split(path.sep).concat(base);\n      let res = root;\n      for (let part of parts) {\n        res = path.join(res, part);\n        let symlink = this.symlinks.get(res);\n        if (symlink) {\n          res = symlink;\n        }\n      }\n\n      return res;\n    }\n\n    return filePath;\n  }\n\n  async writeFile(\n    filePath: FilePath,\n    contents: Buffer | string,\n    options?: ?FileOptions,\n  ) {\n    filePath = this._normalizePath(filePath);\n    if (this.dirs.has(filePath)) {\n      throw new FSError('EISDIR', filePath, 'is a directory');\n    }\n\n    let dir = path.dirname(filePath);\n    if (!this.dirs.has(dir)) {\n      throw new FSError('ENOENT', dir, 'does not exist');\n    }\n\n    let buffer = makeShared(contents);\n    let file = this.files.get(filePath);\n    let mode = (options && options.mode) || 0o666;\n    if (file) {\n      file.write(buffer, mode);\n      this.files.set(filePath, file);\n    } else {\n      this.files.set(filePath, new File(buffer, mode));\n    }\n\n    await this._sendWorkerEvent({\n      type: 'writeFile',\n      path: filePath,\n      entry: this.files.get(filePath),\n    });\n\n    this._triggerEvent({\n      type: file ? 'update' : 'create',\n      path: filePath,\n    });\n  }\n\n  // eslint-disable-next-line require-await\n  async readFile(filePath: FilePath, encoding?: Encoding): Promise<any> {\n    return this.readFileSync(filePath, encoding);\n  }\n\n  readFileSync(filePath: FilePath, encoding?: Encoding): any {\n    filePath = this._normalizePath(filePath);\n    let file = this.files.get(filePath);\n    if (file == null) {\n      throw new FSError('ENOENT', filePath, 'does not exist');\n    }\n\n    let buffer = file.read();\n    if (encoding) {\n      return buffer.toString(encoding);\n    }\n\n    return buffer;\n  }\n\n  async copyFile(source: FilePath, destination: FilePath) {\n    let contents = await this.readFile(source);\n    await this.writeFile(destination, contents);\n  }\n\n  statSync(filePath: FilePath): Stat {\n    filePath = this._normalizePath(filePath);\n\n    let dir = this.dirs.get(filePath);\n    if (dir) {\n      return dir.stat();\n    }\n\n    let file = this.files.get(filePath);\n    if (file == null) {\n      throw new FSError('ENOENT', filePath, 'does not exist');\n    }\n\n    return file.stat();\n  }\n\n  // eslint-disable-next-line require-await\n  async stat(filePath: FilePath): Promise<Stat> {\n    return this.statSync(filePath);\n  }\n\n  readdirSync(dir: FilePath, opts?: ReaddirOptions): any {\n    dir = this._normalizePath(dir);\n    if (!this.dirs.has(dir)) {\n      throw new FSError('ENOENT', dir, 'does not exist');\n    }\n\n    dir += path.sep;\n\n    let res = [];\n    for (let [filePath, entry] of this.dirs) {\n      if (\n        filePath.startsWith(dir) &&\n        filePath.indexOf(path.sep, dir.length) === -1\n      ) {\n        let name = filePath.slice(dir.length);\n        if (opts?.withFileTypes) {\n          res.push(new Dirent(name, entry));\n        } else {\n          res.push(name);\n        }\n      }\n    }\n\n    for (let [filePath, entry] of this.files) {\n      if (\n        filePath.startsWith(dir) &&\n        filePath.indexOf(path.sep, dir.length) === -1\n      ) {\n        let name = filePath.slice(dir.length);\n        if (opts?.withFileTypes) {\n          res.push(new Dirent(name, entry));\n        } else {\n          res.push(name);\n        }\n      }\n    }\n\n    for (let [from] of this.symlinks) {\n      if (from.startsWith(dir) && from.indexOf(path.sep, dir.length) === -1) {\n        let name = from.slice(dir.length);\n        if (opts?.withFileTypes) {\n          res.push(new Dirent(name, {mode: S_IFLNK}));\n        } else {\n          res.push(name);\n        }\n      }\n    }\n\n    return res;\n  }\n\n  // eslint-disable-next-line require-await\n  async readdir(dir: FilePath, opts?: ReaddirOptions): Promise<any> {\n    return this.readdirSync(dir, opts);\n  }\n\n  async unlink(filePath: FilePath): Promise<void> {\n    filePath = this._normalizePath(filePath);\n    if (!this.files.has(filePath) && !this.dirs.has(filePath)) {\n      throw new FSError('ENOENT', filePath, 'does not exist');\n    }\n\n    this.files.delete(filePath);\n    this.dirs.delete(filePath);\n    this.watchers.delete(filePath);\n\n    await this._sendWorkerEvent({\n      type: 'unlink',\n      path: filePath,\n    });\n\n    this._triggerEvent({\n      type: 'delete',\n      path: filePath,\n    });\n\n    return Promise.resolve();\n  }\n\n  async mkdirp(dir: FilePath): Promise<void> {\n    dir = this._normalizePath(dir);\n    if (this.dirs.has(dir)) {\n      return Promise.resolve();\n    }\n\n    if (this.files.has(dir)) {\n      throw new FSError('ENOENT', dir, 'is not a directory');\n    }\n\n    let root = path.parse(dir).root;\n    while (dir !== root) {\n      if (this.dirs.has(dir)) {\n        break;\n      }\n\n      this.dirs.set(dir, new Directory());\n      await this._sendWorkerEvent({\n        type: 'mkdir',\n        path: dir,\n      });\n\n      this._triggerEvent({\n        type: 'create',\n        path: dir,\n      });\n\n      dir = path.dirname(dir);\n    }\n\n    return Promise.resolve();\n  }\n\n  async rimraf(filePath: FilePath): Promise<void> {\n    filePath = this._normalizePath(filePath);\n\n    if (this.dirs.has(filePath)) {\n      let dir = filePath + path.sep;\n      for (let filePath of this.files.keys()) {\n        if (filePath.startsWith(dir)) {\n          this.files.delete(filePath);\n          await this._sendWorkerEvent({\n            type: 'unlink',\n            path: filePath,\n          });\n\n          this._triggerEvent({\n            type: 'delete',\n            path: filePath,\n          });\n        }\n      }\n\n      for (let dirPath of this.dirs.keys()) {\n        if (dirPath.startsWith(dir)) {\n          this.dirs.delete(dirPath);\n          this.watchers.delete(dirPath);\n          await this._sendWorkerEvent({\n            type: 'unlink',\n            path: filePath,\n          });\n\n          this._triggerEvent({\n            type: 'delete',\n            path: dirPath,\n          });\n        }\n      }\n\n      for (let filePath of this.symlinks.keys()) {\n        if (filePath.startsWith(dir)) {\n          this.symlinks.delete(filePath);\n          await this._sendWorkerEvent({\n            type: 'unlink',\n            path: filePath,\n          });\n        }\n      }\n\n      this.dirs.delete(filePath);\n      await this._sendWorkerEvent({\n        type: 'unlink',\n        path: filePath,\n      });\n\n      this._triggerEvent({\n        type: 'delete',\n        path: filePath,\n      });\n    } else if (this.files.has(filePath)) {\n      this.files.delete(filePath);\n      await this._sendWorkerEvent({\n        type: 'unlink',\n        path: filePath,\n      });\n\n      this._triggerEvent({\n        type: 'delete',\n        path: filePath,\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  async ncp(source: FilePath, destination: FilePath) {\n    source = this._normalizePath(source);\n\n    if (this.dirs.has(source)) {\n      if (!this.dirs.has(destination)) {\n        this.dirs.set(destination, new Directory());\n        await this._sendWorkerEvent({\n          type: 'mkdir',\n          path: destination,\n        });\n\n        this._triggerEvent({\n          type: 'create',\n          path: destination,\n        });\n      }\n\n      let dir = source + path.sep;\n      for (let dirPath of this.dirs.keys()) {\n        if (dirPath.startsWith(dir)) {\n          let destName = path.join(destination, dirPath.slice(dir.length));\n          if (!this.dirs.has(destName)) {\n            this.dirs.set(destName, new Directory());\n            await this._sendWorkerEvent({\n              type: 'mkdir',\n              path: destination,\n            });\n            this._triggerEvent({\n              type: 'create',\n              path: destName,\n            });\n          }\n        }\n      }\n\n      for (let [filePath, file] of this.files) {\n        if (filePath.startsWith(dir)) {\n          let destName = path.join(destination, filePath.slice(dir.length));\n          let exists = this.files.has(destName);\n          this.files.set(destName, file);\n          await this._sendWorkerEvent({\n            type: 'writeFile',\n            path: destName,\n            entry: file,\n          });\n\n          this._triggerEvent({\n            type: exists ? 'update' : 'create',\n            path: destName,\n          });\n        }\n      }\n    } else {\n      await this.copyFile(source, destination);\n    }\n  }\n\n  createReadStream(filePath: FilePath): ReadStream {\n    return new ReadStream(this, filePath);\n  }\n\n  createWriteStream(filePath: FilePath, options: ?FileOptions): WriteStream {\n    return new WriteStream(this, filePath, options);\n  }\n\n  realpathSync(filePath: FilePath): FilePath {\n    return this._normalizePath(filePath);\n  }\n\n  // eslint-disable-next-line require-await\n  async realpath(filePath: FilePath): Promise<FilePath> {\n    return this.realpathSync(filePath);\n  }\n\n  async symlink(target: FilePath, path: FilePath) {\n    target = this._normalizePath(target);\n    path = this._normalizePath(path);\n    this.symlinks.set(path, target);\n    await this._sendWorkerEvent({\n      type: 'symlink',\n      path,\n      target,\n    });\n  }\n\n  existsSync(filePath: FilePath): boolean {\n    filePath = this._normalizePath(filePath);\n    return this.files.has(filePath) || this.dirs.has(filePath);\n  }\n\n  // eslint-disable-next-line require-await\n  async exists(filePath: FilePath): Promise<boolean> {\n    return this.existsSync(filePath);\n  }\n\n  _triggerEvent(event: Event) {\n    this.events.push(event);\n    if (this.watchers.size === 0) {\n      return;\n    }\n\n    // Batch events\n    this._eventQueue.push(event);\n    clearTimeout(this._watcherTimer);\n\n    this._watcherTimer = setTimeout(() => {\n      let events = this._eventQueue;\n      this._eventQueue = [];\n\n      for (let [dir, watchers] of this.watchers) {\n        if (!dir.endsWith(path.sep)) {\n          dir += path.sep;\n        }\n\n        if (event.path.startsWith(dir)) {\n          for (let watcher of watchers) {\n            watcher.trigger(events);\n          }\n        }\n      }\n    }, 50);\n  }\n\n  _registerWorker(handle: Handle) {\n    this._workerHandles.push(handle);\n    if (this._numWorkerInstances === this._workerHandles.length) {\n      this._emitter.emit('allWorkersRegistered');\n    }\n  }\n\n  async _sendWorkerEvent(event: WorkerEvent) {\n    // Wait for worker instances to register their handles\n    while (this._workerHandles.length < this._numWorkerInstances) {\n      await new Promise(resolve => this._workerRegisterResolves.push(resolve));\n    }\n\n    await Promise.all(\n      this._workerHandles.map(workerHandle =>\n        this.farm.workerApi.runHandle(workerHandle, [event]),\n      ),\n    );\n  }\n\n  watch(\n    dir: FilePath,\n    fn: (err: ?Error, events: Array<Event>) => mixed,\n    opts: WatcherOptions,\n  ): Promise<AsyncSubscription> {\n    dir = this._normalizePath(dir);\n    let watcher = new Watcher(fn, opts);\n    let watchers = this.watchers.get(dir);\n    if (!watchers) {\n      watchers = new Set();\n      this.watchers.set(dir, watchers);\n    }\n\n    watchers.add(watcher);\n\n    return Promise.resolve({\n      unsubscribe: () => {\n        watchers = nullthrows(watchers);\n        watchers.delete(watcher);\n\n        if (watchers.size === 0) {\n          this.watchers.delete(dir);\n        }\n\n        return Promise.resolve();\n      },\n    });\n  }\n\n  async getEventsSince(\n    dir: FilePath,\n    snapshot: FilePath,\n    opts: WatcherOptions,\n  ): Promise<Array<Event>> {\n    let contents = await this.readFile(snapshot, 'utf8');\n    let len = Number(contents);\n    let events = this.events.slice(len);\n    let ignore = opts.ignore;\n    if (ignore) {\n      events = events.filter(\n        event => !ignore.some(i => event.path.startsWith(i + path.sep)),\n      );\n    }\n\n    return events;\n  }\n\n  async writeSnapshot(dir: FilePath, snapshot: FilePath): Promise<void> {\n    await this.writeFile(snapshot, '' + this.events.length);\n  }\n\n  findAncestorFile(\n    fileNames: Array<string>,\n    fromDir: FilePath,\n    root: FilePath,\n  ): ?FilePath {\n    return findAncestorFile(this, fileNames, fromDir, root);\n  }\n\n  findNodeModule(moduleName: string, fromDir: FilePath): ?FilePath {\n    return findNodeModule(this, moduleName, fromDir);\n  }\n\n  findFirstFile(filePaths: Array<FilePath>): ?FilePath {\n    return findFirstFile(this, filePaths);\n  }\n}\n\nclass Watcher {\n  fn: (err: ?Error, events: Array<Event>) => mixed;\n  options: WatcherOptions;\n\n  constructor(\n    fn: (err: ?Error, events: Array<Event>) => mixed,\n    options: WatcherOptions,\n  ) {\n    this.fn = fn;\n    this.options = options;\n  }\n\n  trigger(events: Array<Event>) {\n    let ignore = this.options.ignore;\n    if (ignore) {\n      events = events.filter(\n        event => !ignore.some(i => event.path.startsWith(i + path.sep)),\n      );\n    }\n\n    if (events.length > 0) {\n      this.fn(null, events);\n    }\n  }\n}\n\nclass FSError extends Error {\n  code: string;\n  path: FilePath;\n  constructor(code: string, path: FilePath, message: string) {\n    super(`${code}: ${path} ${message}`);\n    this.name = 'FSError';\n    this.code = code;\n    this.path = path;\n    Error.captureStackTrace?.(this, this.constructor);\n  }\n}\n\nclass ReadStream extends Readable {\n  fs: FileSystem;\n  filePath: FilePath;\n  reading: boolean;\n  bytesRead: number;\n  constructor(fs: FileSystem, filePath: FilePath) {\n    super();\n    this.fs = fs;\n    this.filePath = filePath;\n    this.reading = false;\n    this.bytesRead = 0;\n  }\n\n  _read() {\n    if (this.reading) {\n      return;\n    }\n\n    this.reading = true;\n    this.fs.readFile(this.filePath).then(\n      res => {\n        this.bytesRead += res.byteLength;\n        this.push(res);\n        this.push(null);\n      },\n      err => {\n        this.emit('error', err);\n      },\n    );\n  }\n}\n\nclass WriteStream extends Writable {\n  fs: FileSystem;\n  filePath: FilePath;\n  options: ?FileOptions;\n  buffer: Buffer;\n\n  constructor(fs: FileSystem, filePath: FilePath, options: ?FileOptions) {\n    super({emitClose: true, autoDestroy: true});\n    this.fs = fs;\n    this.filePath = filePath;\n    this.options = options;\n    this.buffer = Buffer.alloc(0);\n  }\n\n  _write(\n    chunk: Buffer | string,\n    encoding: any,\n    callback: (error?: Error) => void,\n  ) {\n    let c = typeof chunk === 'string' ? Buffer.from(chunk, encoding) : chunk;\n    this.buffer = Buffer.concat([this.buffer, c]);\n    callback();\n  }\n\n  _final(callback: (error?: Error) => void) {\n    this.fs\n      .writeFile(this.filePath, this.buffer, this.options)\n      .then(callback)\n      .catch(callback);\n  }\n}\n\nconst S_IFREG = 0o100000;\nconst S_IFDIR = 0o040000;\nconst S_IFLNK = 0o120000;\n\nclass Entry {\n  mode: number;\n  atime: number;\n  mtime: number;\n  ctime: number;\n  birthtime: number;\n  constructor(mode: number) {\n    this.mode = mode;\n    let now = Date.now();\n    this.atime = now;\n    this.mtime = now;\n    this.ctime = now;\n    this.birthtime = now;\n  }\n\n  access() {\n    let now = Date.now();\n    this.atime = now;\n    this.ctime = now;\n  }\n\n  modify(mode: number) {\n    let now = Date.now();\n    this.mtime = now;\n    this.ctime = now;\n    this.mode = mode;\n  }\n\n  getSize(): number {\n    return 0;\n  }\n\n  stat(): Stat {\n    return new Stat(this);\n  }\n}\n\nclass Stat {\n  dev: number = 0;\n  ino: number = 0;\n  mode: number;\n  nlink: number = 0;\n  uid: number = 0;\n  gid: number = 0;\n  rdev: number = 0;\n  size: number;\n  blksize: number = 0;\n  blocks: number = 0;\n  atimeMs: number;\n  mtimeMs: number;\n  ctimeMs: number;\n  birthtimeMs: number;\n  atime: Date;\n  mtime: Date;\n  ctime: Date;\n  birthtime: Date;\n\n  constructor(entry: Entry) {\n    this.mode = entry.mode;\n    this.size = entry.getSize();\n    this.atimeMs = entry.atime;\n    this.mtimeMs = entry.mtime;\n    this.ctimeMs = entry.ctime;\n    this.birthtimeMs = entry.birthtime;\n    this.atime = new Date(entry.atime);\n    this.mtime = new Date(entry.mtime);\n    this.ctime = new Date(entry.ctime);\n    this.birthtime = new Date(entry.birthtime);\n  }\n\n  isFile(): boolean {\n    return Boolean(this.mode & S_IFREG);\n  }\n\n  isDirectory(): boolean {\n    return Boolean(this.mode & S_IFDIR);\n  }\n\n  isBlockDevice(): boolean {\n    return false;\n  }\n\n  isCharacterDevice(): boolean {\n    return false;\n  }\n\n  isSymbolicLink(): boolean {\n    return false;\n  }\n\n  isFIFO(): boolean {\n    return false;\n  }\n\n  isSocket(): boolean {\n    return false;\n  }\n}\n\nclass Dirent {\n  name: string;\n  #mode: number;\n\n  constructor(name: string, entry: interface {mode: number}) {\n    this.name = name;\n    this.#mode = entry.mode;\n  }\n\n  isFile(): boolean {\n    return Boolean(this.#mode & S_IFREG);\n  }\n\n  isDirectory(): boolean {\n    return Boolean(this.#mode & S_IFDIR);\n  }\n\n  isBlockDevice(): boolean {\n    return false;\n  }\n\n  isCharacterDevice(): boolean {\n    return false;\n  }\n\n  isSymbolicLink(): boolean {\n    return Boolean(this.#mode & S_IFLNK);\n  }\n\n  isFIFO(): boolean {\n    return false;\n  }\n\n  isSocket(): boolean {\n    return false;\n  }\n}\n\nclass File extends Entry {\n  buffer: Buffer;\n  constructor(buffer: Buffer, mode: number) {\n    super(S_IFREG | mode);\n    this.buffer = buffer;\n  }\n\n  read(): Buffer {\n    super.access();\n    return Buffer.from(this.buffer);\n  }\n\n  write(buffer: Buffer, mode: number) {\n    super.modify(S_IFREG | mode);\n    this.buffer = buffer;\n  }\n\n  getSize(): number {\n    return this.buffer.byteLength;\n  }\n}\n\nclass Directory extends Entry {\n  constructor() {\n    super(S_IFDIR);\n  }\n}\n\nfunction makeShared(contents: Buffer | string): Buffer {\n  if (typeof contents !== 'string' && contents.buffer instanceof SharedBuffer) {\n    return contents;\n  }\n\n  let length = Buffer.byteLength(contents);\n  let shared = new SharedBuffer(length);\n  let buffer = Buffer.from(shared);\n  if (typeof contents === 'string') {\n    buffer.write(contents);\n  } else {\n    buffer.set(contents);\n  }\n\n  return buffer;\n}\n\nclass WorkerFS extends MemoryFS {\n  id: number;\n  handleFn: HandleFunction;\n\n  constructor(id: number, handle: Handle) {\n    // TODO Make this not a subclass\n    // $FlowFixMe\n    super();\n    this.id = id;\n    this.handleFn = (methodName, args) =>\n      WorkerFarm.getWorkerApi().runHandle(handle, [methodName, args]);\n\n    this.handleFn('_registerWorker', [\n      WorkerFarm.getWorkerApi().createReverseHandle(event => {\n        switch (event.type) {\n          case 'writeFile':\n            this.files.set(event.path, event.entry);\n            break;\n          case 'unlink':\n            this.files.delete(event.path);\n            this.dirs.delete(event.path);\n            this.symlinks.delete(event.path);\n            break;\n          case 'mkdir':\n            this.dirs.set(event.path, new Directory());\n            break;\n          case 'symlink':\n            this.symlinks.set(event.path, event.target);\n            break;\n        }\n      }),\n    ]);\n  }\n\n  static deserialize(opts: SerializedMemoryFS): MemoryFS {\n    return nullthrows(instances.get(opts.id));\n  }\n\n  serialize(): SerializedMemoryFS {\n    // $FlowFixMe\n    return {\n      id: this.id,\n    };\n  }\n\n  writeFile(\n    filePath: FilePath,\n    contents: Buffer | string,\n    options: ?FileOptions,\n  ): Promise<void> {\n    super.writeFile(filePath, contents, options);\n    let buffer = makeShared(contents);\n    return this.handleFn('writeFile', [filePath, buffer, options]);\n  }\n\n  unlink(filePath: FilePath): Promise<void> {\n    super.unlink(filePath);\n    return this.handleFn('unlink', [filePath]);\n  }\n\n  mkdirp(dir: FilePath): Promise<void> {\n    super.mkdirp(dir);\n    return this.handleFn('mkdirp', [dir]);\n  }\n\n  rimraf(filePath: FilePath): Promise<void> {\n    super.rimraf(filePath);\n    return this.handleFn('rimraf', [filePath]);\n  }\n\n  ncp(source: FilePath, destination: FilePath): Promise<void> {\n    super.ncp(source, destination);\n    return this.handleFn('ncp', [source, destination]);\n  }\n\n  symlink(target: FilePath, path: FilePath): Promise<void> {\n    super.symlink(target, path);\n    return this.handleFn('symlink', [target, path]);\n  }\n}\n\nregisterSerializableClass(`${packageJSON.version}:MemoryFS`, MemoryFS);\nregisterSerializableClass(`${packageJSON.version}:WorkerFS`, WorkerFS);\nregisterSerializableClass(`${packageJSON.version}:Stat`, Stat);\nregisterSerializableClass(`${packageJSON.version}:File`, File);\nregisterSerializableClass(`${packageJSON.version}:Directory`, Directory);\n","'use strict';\n\nfunction nullthrows(x, message) {\n  if (x != null) {\n    return x;\n  }\n  var error = new Error(message !== undefined ? message : 'Got unexpected ' + x);\n  error.framesToPop = 1; // Skip nullthrows's own stack frame.\n  throw error;\n}\n\nmodule.exports = nullthrows;\nmodule.exports.default = nullthrows;\n\nObject.defineProperty(module.exports, '__esModule', {value: true});\n","// @flow\n\nimport type {Stats} from 'fs';\nimport type {FileSystem, ReaddirOptions} from './types';\nimport type {FilePath} from '@parcel/types';\nimport type {\n  Event,\n  Options as WatcherOptions,\n  AsyncSubscription,\n} from '@parcel/watcher';\n\nimport {registerSerializableClass} from '@parcel/core';\nimport packageJSON from '../package.json';\nimport {findAncestorFile, findNodeModule, findFirstFile} from './find';\n\nfunction read(method) {\n  return async function (...args: Array<any>) {\n    try {\n      return await this.writable[method](...args);\n    } catch (err) {\n      return this.readable[method](...args);\n    }\n  };\n}\n\nfunction readSync(method) {\n  return function (...args: Array<any>) {\n    try {\n      return this.writable[method](...args);\n    } catch (err) {\n      return this.readable[method](...args);\n    }\n  };\n}\n\nfunction write(method) {\n  return function (...args: Array<any>) {\n    return this.writable[method](...args);\n  };\n}\n\nfunction checkExists(method) {\n  return function (filePath: FilePath, ...args: Array<any>) {\n    if (this.writable.existsSync(filePath)) {\n      return this.writable[method](filePath, ...args);\n    }\n\n    return this.readable[method](filePath, ...args);\n  };\n}\n\nexport class OverlayFS implements FileSystem {\n  writable: FileSystem;\n  readable: FileSystem;\n  constructor(writable: FileSystem, readable: FileSystem) {\n    this.writable = writable;\n    this.readable = readable;\n  }\n\n  static deserialize(opts: any): OverlayFS {\n    return new OverlayFS(opts.writable, opts.readable);\n  }\n\n  serialize(): {|$$raw: boolean, readable: FileSystem, writable: FileSystem|} {\n    return {\n      $$raw: false,\n      writable: this.writable,\n      readable: this.readable,\n    };\n  }\n\n  readFile: (...args: Array<any>) => Promise<Buffer & string & $Shape<Stats>> =\n    read('readFile');\n  writeFile: (...args: Array<any>) => any = write('writeFile');\n  async copyFile(source: FilePath, destination: FilePath) {\n    if (await this.writable.exists(source)) {\n      await this.writable.writeFile(\n        destination,\n        await this.writable.readFile(source),\n      );\n    } else {\n      await this.writable.writeFile(\n        destination,\n        await this.readable.readFile(source),\n      );\n    }\n  }\n  stat: (...args: Array<any>) => Promise<Buffer & string & $Shape<Stats>> =\n    read('stat');\n  unlink: (...args: Array<any>) => any = write('unlink');\n  mkdirp: (...args: Array<any>) => any = write('mkdirp');\n  rimraf: (...args: Array<any>) => any = write('rimraf');\n  ncp: (...args: Array<any>) => any = write('ncp');\n  createReadStream: (filePath: FilePath, ...args: Array<any>) => any =\n    checkExists('createReadStream');\n  createWriteStream: (...args: Array<any>) => any = write('createWriteStream');\n  cwd: (...args: Array<any>) => any = readSync('cwd');\n  chdir: (...args: Array<any>) => any = readSync('chdir');\n  realpath: (filePath: FilePath, ...args: Array<any>) => any =\n    checkExists('realpath');\n\n  readFileSync: (...args: Array<any>) => any = readSync('readFileSync');\n  statSync: (...args: Array<any>) => any = readSync('statSync');\n  existsSync: (...args: Array<any>) => any = readSync('existsSync');\n  realpathSync: (filePath: FilePath, ...args: Array<any>) => any =\n    checkExists('realpathSync');\n\n  async exists(filePath: FilePath): Promise<boolean> {\n    return (\n      (await this.writable.exists(filePath)) || this.readable.exists(filePath)\n    );\n  }\n\n  async readdir(path: FilePath, opts?: ReaddirOptions): Promise<any> {\n    // Read from both filesystems and merge the results\n    let writable = [];\n    let readable = [];\n    try {\n      writable = await this.writable.readdir(path, opts);\n    } catch (err) {\n      // do nothing\n    }\n\n    try {\n      readable = await this.readable.readdir(path, opts);\n    } catch (err) {\n      // do nothing\n    }\n\n    return Array.from(new Set([...writable, ...readable]));\n  }\n\n  readdirSync(path: FilePath, opts?: ReaddirOptions): any {\n    // Read from both filesystems and merge the results\n    let writable = [];\n    let readable = [];\n    try {\n      writable = this.writable.readdirSync(path, opts);\n    } catch (err) {\n      // do nothing\n    }\n\n    try {\n      readable = this.readable.readdirSync(path, opts);\n    } catch (err) {\n      // do nothing\n    }\n\n    return Array.from(new Set([...writable, ...readable]));\n  }\n\n  async watch(\n    dir: FilePath,\n    fn: (err: ?Error, events: Array<Event>) => mixed,\n    opts: WatcherOptions,\n  ): Promise<AsyncSubscription> {\n    let writableSubscription = await this.writable.watch(dir, fn, opts);\n    let readableSubscription = await this.readable.watch(dir, fn, opts);\n    return {\n      unsubscribe: async () => {\n        await writableSubscription.unsubscribe();\n        await readableSubscription.unsubscribe();\n      },\n    };\n  }\n\n  async getEventsSince(\n    dir: FilePath,\n    snapshot: FilePath,\n    opts: WatcherOptions,\n  ): Promise<Array<Event>> {\n    let writableEvents = await this.writable.getEventsSince(\n      dir,\n      snapshot,\n      opts,\n    );\n    let readableEvents = await this.readable.getEventsSince(\n      dir,\n      snapshot,\n      opts,\n    );\n    return [...writableEvents, ...readableEvents];\n  }\n\n  async writeSnapshot(\n    dir: FilePath,\n    snapshot: FilePath,\n    opts: WatcherOptions,\n  ): Promise<void> {\n    await this.writable.writeSnapshot(dir, snapshot, opts);\n  }\n\n  findAncestorFile(\n    fileNames: Array<string>,\n    fromDir: FilePath,\n    root: FilePath,\n  ): ?FilePath {\n    return findAncestorFile(this, fileNames, fromDir, root);\n  }\n\n  findNodeModule(moduleName: string, fromDir: FilePath): ?FilePath {\n    return findNodeModule(this, moduleName, fromDir);\n  }\n\n  findFirstFile(filePaths: Array<FilePath>): ?FilePath {\n    return findFirstFile(this, filePaths);\n  }\n}\n\nregisterSerializableClass(`${packageJSON.version}:OverlayFS`, OverlayFS);\n"],"names":["path","stream","promisify","pipeline","ncp","sourceFS","source","destinationFS","destination","mkdirp","files","readdir","file","sourcePath","join","destPath","stats","stat","isFile","createReadStream","createWriteStream","isDirectory","fs","nativeFS","registerSerializableClass","hashStream","watcher","packageJSON","searchNative","searchJS","realpath","process","platform","native","isPnP","versions","pnp","NodeFS","readFile","copyFile","unlink","utimes","cwd","chdir","directory","statSync","realpathSync","existsSync","readdirSync","findAncestorFile","args","findNodeModule","findFirstFile","filePath","options","tmpFilePath","getTempFilePath","failed","move","promises","rename","e","syscall","code","hashTmp","hashTarget","Promise","all","writeStream","__atomicTmp","__atomicTarget","close","fd","cb","err","then","once","unlinkSync","writeFile","contents","readFileSync","encoding","originalPath","exists","resolve","watch","dir","fn","opts","subscribe","getEventsSince","snapshot","writeSnapshot","deserialize","serialize","mkdir","recursive","rimraf","rm","force","rmdir","version","writeStreamCalls","threadId","require","Number","MAX_SAFE_INTEGER","pid","toString","module","exports","JSON","parse","moduleName","root","basename","dirname","moduleDir","fileNames","pathRoot","fileName","filePaths","Readable","Writable","SharedBuffer","WorkerFarm","Handle","nullthrows","EventEmitter","instances","Map","id","MemoryFS","_numWorkerInstances","_workerRegisterResolves","_emitter","constructor","workerFarm","farm","dirs","Directory","symlinks","watchers","events","_cwd","_workerHandles","_eventQueue","set","on","existing","get","getWorkerApi","runHandle","handle","WorkerFS","createReverseHandle","$$raw","decrementWorkerInstance","length","emit","_normalizePath","base","parts","slice","split","sep","concat","res","part","symlink","has","FSError","buffer","makeShared","mode","write","File","_sendWorkerEvent","type","entry","_triggerEvent","read","startsWith","indexOf","name","withFileTypes","push","Dirent","from","S_IFLNK","delete","keys","dirPath","destName","ReadStream","WriteStream","target","event","size","clearTimeout","_watcherTimer","setTimeout","endsWith","trigger","_registerWorker","map","workerHandle","workerApi","Watcher","Set","add","unsubscribe","len","ignore","filter","some","i","fromDir","Error","message","captureStackTrace","reading","bytesRead","_read","byteLength","emitClose","autoDestroy","Buffer","alloc","_write","chunk","callback","c","_final","catch","S_IFREG","S_IFDIR","Entry","now","Date","atime","mtime","ctime","birthtime","access","modify","getSize","Stat","dev","ino","nlink","uid","gid","rdev","blksize","blocks","atimeMs","mtimeMs","ctimeMs","birthtimeMs","Boolean","isBlockDevice","isCharacterDevice","isSymbolicLink","isFIFO","isSocket","shared","handleFn","methodName","method","writable","readable","readSync","checkExists","OverlayFS","Array","writableSubscription","readableSubscription","writableEvents","readableEvents"],"version":3,"file":"index.js.map","sourceRoot":"../../../../"}